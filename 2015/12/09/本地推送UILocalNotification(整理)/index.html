<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>本地推送UILocalNotification(整理) | zhz blogs</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/6.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">本地推送UILocalNotification(整理)</h1><a id="logo" href="/.">zhz blogs</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">本地推送UILocalNotification(整理)</h1><div class="post-meta">Dec 9, 2015<span> | </span><span class="category"><a href="/categories/ios平台/">ios平台</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><p> 穷苦的孩子没有开发账号, 只能测试下本地通知了</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">/**本地通知</div><div class="line">   * 是由本地应用触发的, 基于时间行为的一种通知形式, 例如闹钟定时、待办事项提醒，又或者一个应用在一段时候后不使用通常会提示用户使用此应用等都是本地通知。</div><div class="line">   * UILocalNotification的属性有</div><div class="line">   fireDate、timeZone、repeatInterval、repeatCalendar、alertBody、 alertAction、hasAction、alertLaunchImage、applicationIconBadgeNumber、 soundName和userInfo。</div><div class="line">   iOS8.0添加的属性:</div><div class="line">   1. CLRegion *region: 设置一个CLRegion对象触发通知, 当用户进入或离开一个地理区域, 根据CLRegion对象本身的属性设置。注册多个UILocalNotifications不同区域包含相同的标识符将导致未定义行为。触发区域的UILocalNotifications的数量是有限的。为了使用region-triggered通知, 应用程序必须设置&quot;when-in-use&quot;来对CoreLocation授权</div><div class="line">   2. BOOL regionTriggersOnce: 默认YES: 多次进入退出该区域仅触发一次</div><div class="line">   NO: 每次进入或退出该区域都会触发</div><div class="line">   3. NSString *alertTitle(iOS8.2): 默认nil,</div><div class="line">   4. NSString *category: +[UIUserNotificationSettings settingsForTypes:categories:]的参数, 本地通知的标识</div><div class="line">   5.</div><div class="line">   */</div></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">创建本地推送通知对象</div><div class="line">UILocalNotification *ln = [[UILocalNotification alloc] init];</div><div class="line">设置本地推送通知属性</div><div class="line">//推送通知的触发时间（何时发出推送通知）</div><div class="line">@property(nonatomic,copy) NSDate *fireDate;</div><div class="line"></div><div class="line">//推送通知的具体内容</div><div class="line">@property(nonatomic,copy) NSString *alertBody;</div><div class="line"></div><div class="line">//在锁屏时显示的动作标题（完整标题：“滑动来” + alertAction）</div><div class="line">@property(nonatomic,copy) NSString *alertAction;</div><div class="line"></div><div class="line">//音效文件名</div><div class="line">@property(nonatomic,copy) NSString *soundName;</div><div class="line"></div><div class="line">//app图标数字</div><div class="line">@property(nonatomic) NSInteger applicationIconBadgeNumber;</div><div class="line"></div><div class="line">//每隔多久重复发一次推送通知</div><div class="line">@property(nonatomic) NSCalendarUnit repeatInterval;</div><div class="line"></div><div class="line">//点击推送通知打开app时显示的启动图片</div><div class="line">@property(nonatomic,copy) NSString *alertLaunchImage;</div><div class="line"></div><div class="line">//附加的额外信息</div><div class="line">@property(nonatomic,copy) NSDictionary *userInfo;</div><div class="line"></div><div class="line">//时区</div><div class="line">@property(nonatomic,copy) NSTimeZone *timeZone;</div><div class="line">（一般设置为[NSTimeZone defaultTimeZone] ，跟随手机的时区）</div><div class="line"></div><div class="line">//调度本地推送通知（调度完毕后，推送通知会在特地时间fireDate发出）</div><div class="line">[[UIApplication sharedApplication] scheduleLocalNotification:ln];</div><div class="line"></div><div class="line">//获得被调度(定制)的所有本地推送通知</div><div class="line">@property(nonatomic,copy) NSArray *scheduledLocalNotifications;</div><div class="line">（已经发出且过期的推送通知就算调度结束，会自动从这个数组中移除）</div><div class="line"></div><div class="line">//取消调度本地推送通知</div><div class="line">- (void)cancelLocalNotification:(UILocalNotification *)notification;</div><div class="line">- (void)cancelAllLocalNotifications;</div><div class="line"></div><div class="line">//立即发出本地推送通知</div><div class="line">- (void)presentLocalNotificationNow:(UILocalNotification *)notification;</div></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line"> /**创建本地通知的步骤</div><div class="line">      * 1. 创建 UILocalNotification</div><div class="line">      * 2. 设置触发通知的时间, fireDate</div><div class="line">      * 3. 配置通知的内容: 通知主题, 通知内容, 图标等</div><div class="line">      * 4. 配置通知传递的自动义参数userInfo(可选)</div><div class="line">      * 5. 调用通知，可以使用scheduleLocalNotification:按计划调度一个通知，也可以使用presentLocalNotificationNow立即调用通知。</div><div class="line">      */</div><div class="line">     </div><div class="line">     /**</div><div class="line">      * 进入应用后如果没有注册通知，需要首先注册通知请求用户允许通知；</div><div class="line">      * 一旦调用完注册方法，无论用户是否选择允许通知, 此刻都会调用应用程序的application:didRegisterUserNotificationSettings:代理方法，</div><div class="line">      * 在这个方法中根据用户的选择：如果是允许通知则会按照前面的步骤创建通知并在一定时间后执行</div><div class="line">      */</div><div class="line">     </div><div class="line">     /**两种情况去运行:</div><div class="line">      *  一种是启动程序关闭程序，等到接收到通知之后点击通知重新进入程序；</div><div class="line">      *  另一种是启动程序后，进入后台, 在前台也可以</div><div class="line">      </div><div class="line">      另种分别按照前面说的情况调用不同的方法接收到userInfo写入本地文件系统。有了userInfo一般来说就可以根据这个信息进行一些处理，例如可以根据不同的参数信息导航到不同的界面，假设是更新的通知则可以导航到更新内容界面等。</div><div class="line">      */</div><div class="line">     </div><div class="line">     /**注意：</div><div class="line">      *1. 在使用通知之前必须注册通知类型，如果用户不允许应用程序发送通知，则以后就无法发送通知，除非用户手动到iOS设置中打开通知。</div><div class="line">      *2. 本地通知是有操作系统统一调度的，只有在应用退出到后台或者关闭才能收到通知。(注意：这一点对于后面的推送通知也是完全适用的。）</div><div class="line">      *3. 通知的声音是由iOS系统播放的，格式必须是Linear PCM、MA4（IMA/ADPCM）、µLaw、aLaw中的一种，并且播放时间必须在30s内，否则将被系统声音替换，同时自定义声音文件必须放到main boundle中。</div><div class="line">      *4. 本地通知的数量是有限制的，最近的本地通知最多只能有64个，超过这个数量将被系统忽略。</div><div class="line">      *5. 如果想要移除本地通知可以调用UIApplication的cancelLocalNotification:或cancelAllLocalNotifications移除指定通知或所有通知。</div><div class="line">      */</div><div class="line"> //[[UIDevice currentDevice].systemVersion floatValue] &gt;= 8.0</div><div class="line">    </div><div class="line"># if __IPHONE_OS_VERSION_MAX_ALLOWED &gt; __IPHONE_8_0</div><div class="line">     //iOS8.0</div><div class="line">     ///第一个按钮</div><div class="line">     UIMutableUserNotificationAction *action = [[UIMutableUserNotificationAction alloc] init];</div><div class="line">     action.identifier = @&quot;action&quot;;</div><div class="line">     action.title = @&quot;接受&quot;;</div><div class="line">     /*</div><div class="line">      UIUserNotificationActivationModeForeground 点击的时候启动程序</div><div class="line">      UIUserNotificationActivationModeBackground 点击的时候不启动程序,后台处理</div><div class="line">      */</div><div class="line">     action.activationMode = UIUserNotificationActivationModeForeground;</div><div class="line">     </div><div class="line">     ///第二个按钮</div><div class="line">     UIMutableUserNotificationAction *action2 = [[UIMutableUserNotificationAction alloc] init];</div><div class="line">     action2.identifier = @&quot;action2&quot;;</div><div class="line">     action2.title = @&quot;拒绝&quot;;</div><div class="line">     action2.activationMode = UIUserNotificationActivationModeBackground;</div><div class="line">     action2.authenticationRequired = NO;//YES:需要解锁才能处理,ModeForeground不用设置此项</div><div class="line">     action2.destructive = YES;//警告按钮, 红色</div><div class="line">     </div><div class="line">     ///创建动作按钮的类别集合</div><div class="line">     UIMutableUserNotificationCategory *category = [[UIMutableUserNotificationCategory alloc] init];</div><div class="line">     category.identifier = @&quot;alert&quot;;//这组动作的标识符</div><div class="line">     /**</div><div class="line">      UIUserNotificationActionContextDefault</div><div class="line">      UIUserNotificationActionContextMinimal</div><div class="line">      */</div><div class="line">     [category setActions:@[action, action2] forContext:UIUserNotificationActionContextMinimal];</div><div class="line"> </div><div class="line">     // 3.创建UIUserNotificationSettings，并设置消息的显示类类型</div><div class="line">     UIUserNotificationSettings *setting = [UIUserNotificationSettings settingsForTypes:</div><div class="line">                                            UIUserNotificationTypeBadge |</div><div class="line">                                            UIUserNotificationTypeSound |</div><div class="line">                                            UIUserNotificationTypeAlert categories:[NSSet setWithObjects:category, nil]];</div><div class="line">     //    4.注册推送</div><div class="line">     [[UIApplication sharedApplication] registerUserNotificationSettings:setting];</div><div class="line">     //远程推送 [[UIApplication sharedApplication] registerForRemoteNotifications];</div><div class="line"># else</div><div class="line">     </div><div class="line">     </div><div class="line"># endif</div><div class="line">     </div><div class="line">     //1. 定义本地通知</div><div class="line">     UILocalNotification *notification = [[UILocalNotification alloc] init];</div><div class="line">     </div><div class="line">     //2. 设置调用时间, 设置为nil的话，那么UILocalNotification将在一段时候后被激发，而不是某一个确切时间被激发</div><div class="line">     notification.fireDate = [NSDate dateWithTimeIntervalSinceNow:10];</div><div class="line">     </div><div class="line">     //3. 设置当前时区</div><div class="line">     notification.timeZone = [NSTimeZone defaultTimeZone];</div><div class="line">     </div><div class="line">     //设置重复间隔, NSCalendarUnit</div><div class="line">     notification.repeatInterval = NSWeekCalendarUnit;</div><div class="line">     //当前日历，使用前最好设置时区等信息以便能够自动同步时间</div><div class="line">     //notification.repeatCalendar=[NSCalendar currentCalendar];</div><div class="line">     </div><div class="line">     //4. 设置通知的属性</div><div class="line">     //4.1 通知主题</div><div class="line">     notification.alertBody = @&quot;订单来了&quot;;</div><div class="line">     //4.2 通知消息数</div><div class="line">     notification.applicationIconBadgeNumber += 1;</div><div class="line">     //4.3 通知在待机界面的滑动动作提示-&gt;&quot;滑动来打开应用&quot;</div><div class="line">     notification.hasAction = YES;//默认yes</div><div class="line">     notification.alertAction = @&quot;打开应用&quot;;</div><div class="line">     //4.4 点击通知打开应用时的启动图片,这里使用程序启动图片</div><div class="line">     notification.alertLaunchImage = @&quot;launch.jpg&quot;;</div><div class="line">     //4.5 设置收到通知时播放的声音, 默认消息声音</div><div class="line">     // name of resource in app&apos;s bundle to play or UILocalNotificationDefaultSoundName</div><div class="line">     //注意: 直接把.caf文件拖进目录是无效的, 使用右键点击&quot;Add Files to xxxx&quot;, 选择想要添加的文件即可</div><div class="line">     notification.soundName = @&quot;1.caf&quot;;</div><div class="line">     </div><div class="line"># if __IPHONE_8_0</div><div class="line">     notification.category = @&quot;alert&quot;;</div><div class="line"># endif</div><div class="line">     /*SoundName: 1.  app&apos;s bundle中资源的名字</div><div class="line">                  2.  UILocalNotificationDefaultSoundName</div><div class="line">      */</div><div class="line">     </div><div class="line">     //4.6 设置用户信息: 绑定到通知上的其他附加信息</div><div class="line">     notification.userInfo = @&#123;@&quot;id&quot;:@1,@&quot;user&quot;:@&quot;zhz&quot;&#125;;//绑定到通知上的其他附加信息;</div><div class="line">     /**</div><div class="line">      * 从上面的程序可以看到userInfo这个属性我们设置了参数，那么这个参数如何接收呢？</div><div class="line">      </div><div class="line">      1. 在iOS中如果点击一个弹出通知（或者锁屏界面滑动查看通知），默认会自动打开当前应用。</div><div class="line">      2. 由于通知由系统调度那么此时进入应用有两种情况：</div><div class="line">      a. 如果应用程序已经完全退出那么此时会调用application: didFinishLaunchingWithOptions方法；</div><div class="line">      可以访问launchOptions中键为UIApplicationLaunchOptionsLocalNotificationKey的对象，这个对象就是发送的通知，由此对象再去访问userInfo。</div><div class="line">      b. 如果此时应用程序还在运行（无论是在前台还是在后台）则会调用application: didReceiveLocalNotification:方法接收消息参数。</div><div class="line">      参数中已经可以拿到notification对象，只要读取userInfo属性即可</div><div class="line">      */</div><div class="line">     [[UIApplication sharedApplication] scheduleLocalNotification:notification];</div><div class="line">     </div><div class="line">     </div><div class="line">     //如果应用程序已经完全退出那么此时会调用</div><div class="line">     if (launchOptions) &#123;</div><div class="line">         UILocalNotification *notification = [launchOptions valueForKey:UIApplicationLaunchOptionsLocationKey];</div><div class="line">         NSDictionary *dic = notification.userInfo;</div><div class="line">         NSLog(@&quot;--%@&quot;, dic);</div><div class="line">     &#125;</div><div class="line"> </div><div class="line"> </div><div class="line">     return YES;</div></pre></td></tr></table></figure>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"> </div><div class="line"># if __IPHONE_8_0</div><div class="line"> /**</div><div class="line">  *  成功注册registerUserNotificationSettings:后，回调的方法</div><div class="line">  *</div><div class="line">  *  @param application          UIApplication</div><div class="line">  *  @param notificationSettings UIUserNotificationSettings消息的显示类类型</div><div class="line">  */</div><div class="line"> - (void)application:(UIApplication *)application didRegisterUserNotificationSettings:(UIUserNotificationSettings *)notificationSettings &#123;</div><div class="line">     //成功注册registerUserNotificationSettings:后，回调的方法</div><div class="line">     NSLog(@&quot;%s, %d&quot;, __FUNCTION__, __LINE__);</div><div class="line"> &#125;</div><div class="line"> </div><div class="line"> /**</div><div class="line">  *  处理用户操作</div><div class="line">  *</div><div class="line">  *  @param application       UIApplication</div><div class="line">  *  @param identifier        设置的按钮ID</div><div class="line">  *  @param notification      本地通知notification</div><div class="line">  *  @param completionHandler 处理完消息调用, 否则会出现警告</div><div class="line">  */</div><div class="line"> - (void)application:(UIApplication *)application handleActionWithIdentifier:(NSString *)identifier forLocalNotification:(UILocalNotification *)notification completionHandler:(void (^)())completionHandler &#123;</div><div class="line">     //在非本App界面时收到本地消息，下拉消息会有快捷回复的按钮，点击按钮后调用的方法，根据identifier来判断点击的哪个按钮，notification为消息内容</div><div class="line">     NSLog(@&quot;%s, %d&quot;, __FUNCTION__, __LINE__);</div><div class="line">     completionHandler();//处理完消息调用, 否则会出现警告</div><div class="line"> &#125;</div><div class="line"># endif</div><div class="line"> </div><div class="line"> /**</div><div class="line">  *  当用户点击通知栏的该条通知时调用</div><div class="line">  *</div><div class="line">  *  @param application  UIApplication</div><div class="line">  *  @param notification 本地通知</div><div class="line">  */</div><div class="line"> - (void)application:(UIApplication *)application didReceiveLocalNotification:(nonnull UILocalNotification *)notification &#123;</div><div class="line">     </div><div class="line">     //收到本地推送消息后调用的方法</div><div class="line">     UIAlertView *alert = [[UIAlertView alloc] initWithTitle:@&quot;接收到本地提醒 in app&quot; message:notification.alertBody delegate:nil cancelButtonTitle:@&quot;确定&quot; otherButtonTitles:nil];</div><div class="line">     [alert show];</div><div class="line">     </div><div class="line">     //这里，你就可以通过notification的useinfo，干一些你想做的事情了</div><div class="line">     application.applicationIconBadgeNumber -= 1;</div><div class="line"> &#125;</div><div class="line"> </div><div class="line"># pragma mark 进入前台后设置消息信息</div><div class="line"> -(void)applicationWillEnterForeground:(UIApplication *)application&#123;</div><div class="line">     [[UIApplication sharedApplication] setApplicationIconBadgeNumber:0];//进入前台取消应用消息图标</div><div class="line"> &#125;</div><div class="line"> </div><div class="line"># pragma mark 移除本地通知，在不需要此通知时记得移除</div><div class="line"> /**</div><div class="line">  * 两种方式取消注册的本地通知，</div><div class="line">  一种是取消指定的通知:</div><div class="line">  [[UIApplication sharedApplication] cancelLocalNotification:localNotification];</div><div class="line">  第二种是取消所有的注册通知：</div><div class="line">  [[UIApplication sharedApplication] cancelAllLocalNotification];</div><div class="line">  */</div><div class="line"> -(void)removeNotification&#123;</div><div class="line">     [[UIApplication sharedApplication] cancelAllLocalNotifications];</div><div class="line"> &#125;</div></pre></td></tr></table></figure>
<p> 参考:<br> <a href="http://www.cnblogs.com/kenshincui/p/4168532.html" target="_blank" rel="external">http://www.cnblogs.com/kenshincui/p/4168532.html</a></p>
<p> 原文链接: <a href="http://blog.csdn.net/zhz459880251/article/details/50240055" target="_blank" rel="external">http://blog.csdn.net/zhz459880251/article/details/50240055</a></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="zhzDeveloper.github.io/2015/12/09/本地推送UILocalNotification(整理)/" data-id="cj3uzbmew003fxzhlv6rwfkwr" class="article-share-link">分享</a><div class="tags"></div><div class="post-nav"><a href="/2015/12/14/UIImage 与 base64 互转/" class="pre">UIImage 与 base64 互转</a><a href="/2015/12/09/iOS常用的宏(整理)--持续更新/" class="next">iOS常用的宏(整理)--持续更新</a></div></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><form action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="search" name="word" maxlength="20" placeholder="Search"/><input type="hidden" name="si" value="zhzDeveloper.github.io"/><input name="tn" type="hidden" value="bds"/><input name="cl" type="hidden" value="3"/><input name="ct" type="hidden" value="2097152"/><input name="s" type="hidden" value="on"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/PHP/">PHP</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS-分类/">iOS-分类</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ios平台/">ios平台</a><span class="category-list-count">67</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ios平台-UI控件/">ios平台,UI控件</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ios平台-图片处理/">ios平台,图片处理</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ios平台-开发工具/">ios平台,开发工具</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/swift/">swift</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/开发工具/">开发工具</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/正则/">正则</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/计算机技巧/">计算机技巧</a><span class="category-list-count">3</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/03/02/数据cache/">数据cache</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/13/Python 爬虫初探/">Python 爬虫初探</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/12/数组排序sortedArrayUsingComparator/">数组排序sortedArrayUsingComparator</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/13/macOS Sierra 找回消失的 “任何来源”/">macOS Sierra 找回消失的 “任何来源”</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/11/Method Swizzling(转载+补充)/">Method Swizzling(转载+补充)</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/10/instancesRespondToSelector与respondsToSelector的区别/">instancesRespondToSelector与respondsToSelector的区别</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/08/08/生成Description/">生成Description</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/26/忽略编译警告/">忽略编译警告</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/09/iOS-面试题整理/">iOS-面试题整理</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/04/07/GCD小结/">GCD小结</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2017 <a href="/." rel="nofollow">zhz blogs.</a> Powered by<a rel="nofollow" target="_blank" href="https://github.com/zhzDeveloper"> zhz.</a><a rel="nofollow" target="_blank" href="http://zhzdeveloper.github.io/"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/zhzDeveloper"> zhz.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.0.47/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>